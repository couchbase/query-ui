<form class="forms">
<div class="dialog-lg dialog-resizable" style="height:80vh">
  <div class="panel-header">
    <h2 class="ellipsis">{{header}}</h2>
  </div>
  <div class="alert alert-warning" ng-if="error_message">{{error_message}}</div>
  <div class="panel-content" ng-style="{ height: error_message ? 'calc(100% - 120px)' : 'calc(100% - 100px)'}">
    <div class="row margin-bottom-half">
      <h4 class="ellipsis margin-right-half">{{doc_id}}</h4>
      <span
         ng-show="doc_meta"
         class="blue-1 text-small nowrap cursor-pointer"
         uib-tooltip-html="{{doc_meta}}"
         tooltip-placement="auto right-top"
         tooltip-append-to-body="true"
         tooltip-trigger="'mousedown'"
         tooltip-class="tooltip-maxheight">metadata</span>
    </div>
    <div
       ui-ace="ace_options"
       ng-model="doc_json"
       style="height:98%;"
       class="wb-ace-editor column flex-grow-2">
    </div>
  </div>
  <div class="panel-footer">
    <a ng-click="$dismiss('cancel')" ng-hide="readonly">
      Cancel
    </a>
    <button
       ng-hide="readonly"
       type="submit"
       ng-disabled="errors()"
       ng-click="!errors() && $close('ok')">
       Save
     </button>
    <button
       ng-show="readonly"
       type="submit"
       ng-click="$close('ok')">
      Done
    </button>
  </div>
</div>
</form>
